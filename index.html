<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <script>
       let score = 0;

       function playRound(playerSelection, computerSelection) {
           console.log('Player chose to use ' + playerSelection + ' against the computer\'s ' + computerSelection);
           

            let playerNumSelection = convertToNumResult(playerSelection);
            let computerNumSelection = convertToNumResult(computerSelection);

            return determineWinner(playerNumSelection, computerNumSelection);

            function convertToNumResult(selection) {
                let s = selection.toLowerCase();
                switch (s) {
                    case 'rock': return 0; break;
                    case 'paper': return 1; break;
                    case 'scissors': return 2; break;
                }
            }
            
            function determineWinner(a, b) {
                if (a === b) {
                    console.log('It\'s a tie!');
                }
                else if ((a - b + 3) % 3 == 1) {
                    score++;
                    console.log('You won!');
                }
                else {
                    score--;
                    console.log('You lost...');
                }
            }
       }

       function computerPlay() {
           let rand = Math.floor(Math.random() * 10);
           if (rand < 3) return 'Rock'
           else if (rand < 6) return 'Paper'
           else return 'Scissors'
       }
       
       function game() {
            let rounds;

            initGame();

            for (i = 0; i < rounds; i++) {
                let playerSelection = prompt("Choose your weapon!");
                playRound(playerSelection, computerPlay());
            }

            showResults();

            function initGame() {
               rounds = prompt("Let the games begin! How many rounds would you like to play?");
            }

            function showResults() {
               if (score > 0) console.log('You won the battle!');
               else if (score = 0) console.log('In the end it was a tie.');
               else console.log('Unfortunately you lost.');
            }
            
            // Get input from user to determine how many rounds to play
            // Get input from user to determine which one they choose
            // Show results every round
            // In the end count the score and determine winner

       }

       game();
   </script>
</body>
</html>